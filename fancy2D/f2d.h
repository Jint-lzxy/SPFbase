////////////////////////////////////////////////////////////////////////////////
/// @file  f2d.h
/// @brief fancy2D????
/// @note  ??????????????????????????????????
////////////////////////////////////////////////////////////////////////////////
#pragma once

// ????????????
#ifdef F2DEXPORT
#define F2DDLLFUNC __declspec(dllexport)
#else
/// @brief F2DDLL??????
#define F2DDLLFUNC __declspec(dllimport)
#endif

#include "f2dEngine.h"

/// @addtogroup f2d????
/// @{

/// @brief F2D??? 0.6
#define F2DVERSION ((fuInt)(0<<16 | 6))

/// @brief ??????????????
struct f2dInitialErrListener
{
	/// @brief     ???????
	/// @param[in] TimeTick ????
	/// @param[in] Src      ?????
	/// @param[in] Desc     ????????
	virtual void OnErr(fuInt TimeTick, fcStr Src, fcStr Desc)=0;
};

/// @brief      ????fancy2D????
/// @param[in]  Version              ?????F2DVERSION????????DLL???
/// @param[in]  pListener            ???????????????????????
/// @param[out] pOut                 ????????????
/// @param[in]  pErrListener         ?????????????????
extern "C" fResult F2DDLLFUNC CreateF2DEngine(
	fuInt Version,
	f2dEngineEventListener* pListener,
	f2dEngine** pOut,
	f2dInitialErrListener* pErrListener = NULL);

/// @brief      ????fancy2D????g????????????
/// @param[in]  Version              ?????F2DVERSION????????DLL???
/// @param[in]  WinPos               ?????????????
/// @param[in]  Title                ???????
/// @param[in]  Windowed             ??????
/// @param[in]  VSync                ???????
/// @param[in]  AA                   ??????????
/// @param[in]  pListener            ???????????????????????
/// @param[out] pOut                 ????????????
/// @param[in]  pErrListener         ?????????????????
extern "C" fResult F2DDLLFUNC CreateF2DEngineAndInit(
	fuInt Version, 
	const fcyRect& WinPos, 
	fcStrW Title, 
	fBool Windowed, 
	fBool VSync,
	F2DAALEVEL AA,
	f2dEngineEventListener* pListener,
	f2dEngine** pOut,
	f2dInitialErrListener* pErrListener = NULL);

/// @}
